<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="PDK" href="08_pdk.html" /><link rel="prev" title="Netlist driven flow (circuits)" href="06_yaml_component.html" />

    <meta name="generator" content="sphinx-5.0.1, furo 2022.06.04.1"/>
        <title>Reticle assembly - gdsfactory 5.10.3 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=40978830699223671f4072448e654b5958f38b89" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">gdsfactory 5.10.3 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">gdsfactory 5.10.3 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../README.html">gdsfactory 5.10.3</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../git.html">Intro Tutorial</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="_0_python.html">Python intro</a></li>
<li class="toctree-l2"><a class="reference internal" href="_1_git.html">Git: Version control intro</a></li>
<li class="toctree-l2"><a class="reference internal" href="_2_install.html">Install gdsfactory</a></li>
<li class="toctree-l2"><a class="reference internal" href="_2_klayout.html">Klayout integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="_3_vscode.html">VScode</a></li>
<li class="toctree-l2"><a class="reference internal" href="_4_gdsfactory_in_5minutes.html">gdsfactory in 5 minutes</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../notebooks.html">Layout Tutorial</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="00_geometry.html">Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="01_references.html">References and ports</a></li>
<li class="toctree-l2"><a class="reference internal" href="02_movement.html">Movement</a></li>
<li class="toctree-l2"><a class="reference internal" href="03_cells_autoname_and_cache.html">Cell</a></li>
<li class="toctree-l2"><a class="reference internal" href="03_layer_stack.html">Layers</a></li>
<li class="toctree-l2"><a class="reference internal" href="03_waveguides_paths_crossections.html">Path and CrossSection</a></li>
<li class="toctree-l2"><a class="reference internal" href="04_components_.html">Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="04_components_hierarchy.html">Components with hierarchy</a></li>
<li class="toctree-l2"><a class="reference internal" href="04_routing.html">Routing optical and RF ports</a></li>
<li class="toctree-l2"><a class="reference internal" href="041_routing_electical.html">Routing electrical</a></li>
<li class="toctree-l2"><a class="reference internal" href="06_yaml_component.html">Netlist driven flow (circuits)</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Reticle assembly</a></li>
<li class="toctree-l2"><a class="reference internal" href="08_pdk.html">PDK</a></li>
<li class="toctree-l2"><a class="reference internal" href="09_pdk_import.html">Import PDK</a></li>
<li class="toctree-l2"><a class="reference internal" href="common_mistakes.html">Common mistakes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../workflow.html">Workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../routing.html">Routing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../components.html">Components</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../plugins_mode_solver.html">Plugins: Mode solvers</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="plugins/mpb/001_mpb_waveguide.html">MPB mode-solver</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugins/tidy3d/01_tidy3d_modes.html">Tidy3D mode solver</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../plugins_fdtd.html">Plugins: FDTD</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="plugins/lumerical/1_fdtd_sparameters.html">FDTD Lumerical</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugins/meep/001_meep_sparameters.html">FDTD Meep</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugins/meep/002_gratings.html">FDTD Meep gratings</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugins/tidy3d/00_tidy3d.html">FDTD tidy3d</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../plugins_circuits.html">Plugins: Circuit simulators</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="plugins/sax/sax.html">SAX circuit simulator</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugins/simphony/01_components.html">Simphony circuit simulator</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contribution.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CHANGELOG.html">CHANGELOG</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt .copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
.jp-RenderedHTMLCommon table,
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
.jp-RenderedHTMLCommon thead,
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
.jp-RenderedHTMLCommon tr,
.jp-RenderedHTMLCommon th,
.jp-RenderedHTMLCommon td,
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
.jp-RenderedHTMLCommon th,
div.rendered_html th {
  font-weight: bold;
}
.jp-RenderedHTMLCommon tbody tr:nth-child(odd),
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.jp-RenderedHTMLCommon tbody tr:hover,
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<section id="Reticle-assembly">
<h1>Reticle assembly<a class="headerlink" href="#Reticle-assembly" title="Permalink to this heading">#</a></h1>
<p>With gdsfactory you can easily go from a Component, to a Component sweep, to a top level Component full of subcomponents.</p>
<section id="Test-protocols">
<h2>Test protocols<a class="headerlink" href="#Test-protocols" title="Permalink to this heading">#</a></h2>
<p>To measure your reticle / die after fabrication you need to decide your test configurations. This includes things like:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Individual</span> <span class="pre">input</span> <span class="pre">and</span> <span class="pre">output</span> <span class="pre">fibers</span></code> versus <code class="docutils literal notranslate"><span class="pre">fiber</span> <span class="pre">array</span></code>. I reccommend <code class="docutils literal notranslate"><span class="pre">fiber</span> <span class="pre">array</span></code> for easier testing and higher throughtput, but also understand the flexibility of single fibers for some cases.</p></li>
<li><p>Fiber array pitch (127um or 250um) if using a fiber array.</p></li>
<li><p>Pad pitch for DC and RF high speed probes (100, 125, 150, 200um). Probe configuration (GSG, GS â€¦)</p></li>
<li><p>Test layout for DC, RF and optical fibers.</p></li>
</ul>
<p>To enable automatic testing you need to add labels to all the devices that you want to test. GDS labels are not fabricated and are only visible in the GDS file.</p>
<p>Lets show some different automatic labeling schemas:</p>
<ol class="arabic simple">
<li><p>SiEPIC ubc Ebeam PDK schema, labels one of the grating couplers from the fiber array.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gf.dft.add_label_yaml</span></code> includes a YAML based Label with all testing information.</p></li>
<li><p>EHVA automatic testers, include a Label component declaration as described in this <a class="reference external" href="https://drive.google.com/file/d/1kbQNrVLzPbefh3by7g2s865bcsA2vl5l/view">doc</a></p></li>
</ol>
<section id="1.-SiEPIC-labels">
<h3>1. SiEPIC labels<a class="headerlink" href="#1.-SiEPIC-labels" title="Permalink to this heading">#</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">gdsfactory</span> <span class="k">as</span> <span class="nn">gf</span>

<span class="n">gf</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_plot_options</span><span class="p">(</span><span class="n">show_subports</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2022-06-15 17:08:41.774 | INFO     | gdsfactory.config:&lt;module&gt;:52 - Load &#39;/home/runner/work/gdsfactory/gdsfactory/gdsfactory&#39; 5.10.3
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mmi</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">mmi2x2</span><span class="p">()</span>
<span class="n">mmi_te_siepic</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">dft</span><span class="o">.</span><span class="n">add_fiber_array_siepic</span><span class="p">(</span><span class="n">component</span><span class="o">=</span><span class="n">mmi</span><span class="p">)</span>
<span class="n">mmi_te_siepic</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_07_mask_3_0.png" src="../_images/notebooks_07_mask_3_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
mmi2x2_add_fiber_array__1f55acce: uid 4, ports ['vertical_te_00', 'vertical_te_01', 'vertical_te_02', 'vertical_te_03'], aliases [], 0 polygons, 1 references</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mmi_te_siepic</span><span class="o">.</span><span class="n">get_labels</span><span class="p">(</span><span class="n">depth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[Label(&#34;opt_in_TE_1530_device_YourUserName_(mmi2x2)-1-o1&#34;, (-23.69999999999999, 60.699999999999996), None, None, False, 10, 0)]
</pre></div></div>
</div>
</section>
<section id="2.-YAML-labels">
<h3>2. YAML labels<a class="headerlink" href="#2.-YAML-labels" title="Permalink to this heading">#</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mmi</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">mmi2x2</span><span class="p">()</span>
<span class="n">mmi_te_yaml</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">routing</span><span class="o">.</span><span class="n">add_fiber_array</span><span class="p">(</span><span class="n">mmi</span><span class="p">,</span> <span class="n">get_input_labels_function</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">gf</span><span class="o">.</span><span class="n">dft</span><span class="o">.</span><span class="n">add_label_yaml</span><span class="p">(</span><span class="n">component</span><span class="o">=</span><span class="n">mmi_te_yaml</span><span class="p">)</span>
<span class="n">mmi_te_yaml</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_07_mask_6_0.png" src="../_images/notebooks_07_mask_6_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
mmi2x2_add_fiber_array_459c392f: uid 23, ports ['vertical_te_00', 'vertical_te_01', 'vertical_te_02', 'vertical_te_03', 'vertical_te_10', 'vertical_te_20'], aliases [], 0 polygons, 50 references</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mmi_te_yaml</span><span class="o">.</span><span class="n">get_labels</span><span class="p">(</span><span class="n">depth</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[Label(&#34;component_name: mmi2x2_add_fiber_array_459c392f
 polarization: None
 wavelength: None
 settings:
 ports:
   vertical_te_20:
     name: vertical_te_20
     width: 11.0
     midpoint:
     - 320.3
     - -80.96900000000001
     orientation: 270.0
     layer:
     - 203
     - 0
     port_type: vertical_te

   vertical_te_03:
     name: vertical_te_03
     width: 11.0
     midpoint:
     - 193.3
     - -80.96900000000001
     orientation: 270.0
     layer:
     - 203
     - 0
     port_type: vertical_te

   vertical_te_02:
     name: vertical_te_02
     width: 11.0
     midpoint:
     - 66.30000000000001
     - -80.96900000000001
     orientation: 270.0
     layer:
     - 203
     - 0
     port_type: vertical_te

   vertical_te_01:
     name: vertical_te_01
     width: 11.0
     midpoint:
     - -60.699999999999996
     - -80.96900000000001
     orientation: 270.0
     layer:
     - 203
     - 0
     port_type: vertical_te

   vertical_te_00:
     name: vertical_te_00
     width: 11.0
     midpoint:
     - -187.7
     - -80.96900000000001
     orientation: 270.0
     layer:
     - 203
     - 0
     port_type: vertical_te

   vertical_te_10:
     name: vertical_te_10
     width: 11.0
     midpoint:
     - -314.7
     - -80.96900000000001
     orientation: 270.0
     layer:
     - 203
     - 0
     port_type: vertical_te
     &#34;, (0.0, 0.0), None, None, False, 66, 0)]
</pre></div></div>
</div>
</section>
<section id="3.-EHVA-labels">
<h3>3. EHVA labels<a class="headerlink" href="#3.-EHVA-labels" title="Permalink to this heading">#</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mmi_te_ehva</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">routing</span><span class="o">.</span><span class="n">add_fiber_array</span><span class="p">(</span><span class="n">mmi</span><span class="p">,</span> <span class="n">get_input_labels_function</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">mmi_te_ehva</span><span class="o">.</span><span class="n">remove_labels</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">gf</span><span class="o">.</span><span class="n">dft</span><span class="o">.</span><span class="n">add_label_ehva</span><span class="p">(</span><span class="n">component</span><span class="o">=</span><span class="n">mmi_te_ehva</span><span class="p">,</span> <span class="n">die</span><span class="o">=</span><span class="s2">&quot;mpw1&quot;</span><span class="p">)</span>
<span class="n">mmi_te_ehva</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_07_mask_9_0.png" src="../_images/notebooks_07_mask_9_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
mmi2x2_add_fiber_array_459c392f: uid 23, ports ['vertical_te_00', 'vertical_te_01', 'vertical_te_02', 'vertical_te_03', 'vertical_te_10', 'vertical_te_20'], aliases [], 0 polygons, 50 references</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mmi_te_ehva</span><span class="o">.</span><span class="n">get_labels</span><span class="p">(</span><span class="n">depth</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[Label(&#34;DIE NAME:mpw1
 CIRCUIT NAME:mmi2x2_add_fiber_array_459c392f

 OPTICALPORT NAME: vertical_te_20 TYPE: vertical_te, POSITION RELATIVE:(320.3, -80.969), ORIENTATION: 270
 OPTICALPORT NAME: vertical_te_03 TYPE: vertical_te, POSITION RELATIVE:(193.3, -80.969), ORIENTATION: 270
 OPTICALPORT NAME: vertical_te_02 TYPE: vertical_te, POSITION RELATIVE:(66.3, -80.969), ORIENTATION: 270
 OPTICALPORT NAME: vertical_te_01 TYPE: vertical_te, POSITION RELATIVE:(-60.7, -80.969), ORIENTATION: 270
 OPTICALPORT NAME: vertical_te_00 TYPE: vertical_te, POSITION RELATIVE:(-187.7, -80.969), ORIENTATION: 270
 OPTICALPORT NAME: vertical_te_10 TYPE: vertical_te, POSITION RELATIVE:(-314.7, -80.969), ORIENTATION: 270&#34;, (0.0, 0.0), None, None, False, 66, 0)]
</pre></div></div>
</div>
<p>One advantage of the YAML and EHVA formats is that you can track any changes on the components directly from the GDS label, as the label already stores any changes of the child device, as well as any settings that you specify.</p>
<p>Settings can have many levels of hierarchy, but you can still access any children setting with <code class="docutils literal notranslate"><span class="pre">:</span></code> notation.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>grating_coupler:
    function: grating_coupler_elliptical_trenches
    settings:
        polarization: te
        taper_angle: 35
</pre></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mmi</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">mmi2x2</span><span class="p">(</span><span class="n">length_mmi</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">mmi_te_ehva</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">routing</span><span class="o">.</span><span class="n">add_fiber_array</span><span class="p">(</span><span class="n">mmi</span><span class="p">,</span> <span class="n">get_input_labels_function</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">mmi_te_ehva</span><span class="o">.</span><span class="n">remove_labels</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">gf</span><span class="o">.</span><span class="n">dft</span><span class="o">.</span><span class="n">add_label_ehva</span><span class="p">(</span>
    <span class="n">component</span><span class="o">=</span><span class="n">mmi_te_ehva</span><span class="p">,</span>
    <span class="n">die</span><span class="o">=</span><span class="s2">&quot;mpw1&quot;</span><span class="p">,</span>
    <span class="n">metadata_include_parent</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;grating_coupler:settings:polarization&quot;</span><span class="p">],</span>
<span class="p">)</span>
<span class="n">mmi_te_ehva</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_07_mask_12_0.png" src="../_images/notebooks_07_mask_12_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
mmi2x2_length_mmi10_add_c7bd88ad: uid 60, ports ['vertical_te_00', 'vertical_te_01', 'vertical_te_02', 'vertical_te_03', 'vertical_te_10', 'vertical_te_20'], aliases [], 0 polygons, 50 references</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mmi_te_ehva</span><span class="o">.</span><span class="n">get_labels</span><span class="p">(</span><span class="n">depth</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[Label(&#34;DIE NAME:mpw1
 CIRCUIT NAME:mmi2x2_length_mmi10_add_c7bd88ad
 CIRCUITINFO NAME: length_mmi, VALUE: 10
 CIRCUITINFO NAME: grating_coupler_settings_polarization, VALUE: te
 OPTICALPORT NAME: vertical_te_20 TYPE: vertical_te, POSITION RELATIVE:(322.5, -80.969), ORIENTATION: 270
 OPTICALPORT NAME: vertical_te_03 TYPE: vertical_te, POSITION RELATIVE:(195.5, -80.969), ORIENTATION: 270
 OPTICALPORT NAME: vertical_te_02 TYPE: vertical_te, POSITION RELATIVE:(68.5, -80.969), ORIENTATION: 270
 OPTICALPORT NAME: vertical_te_01 TYPE: vertical_te, POSITION RELATIVE:(-58.5, -80.969), ORIENTATION: 270
 OPTICALPORT NAME: vertical_te_00 TYPE: vertical_te, POSITION RELATIVE:(-185.5, -80.969), ORIENTATION: 270
 OPTICALPORT NAME: vertical_te_10 TYPE: vertical_te, POSITION RELATIVE:(-312.5, -80.969), ORIENTATION: 270&#34;, (0.0, 0.0), None, None, False, 66, 0)]
</pre></div></div>
</div>
</section>
</section>
<section id="Pack">
<h2>Pack<a class="headerlink" href="#Pack" title="Permalink to this heading">#</a></h2>
<p>Lets start with a resistance sweep, where you change the resistance width to measure sheet resistance.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><br/><span></span><span class="n">sweep</span> <span class="o">=</span> <span class="p">[</span><span class="n">gf</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">resistance_sheet</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">)</span> <span class="k">for</span> <span class="n">width</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">]]</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">sweep</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">c</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_07_mask_15_0.png" src="../_images/notebooks_07_mask_15_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
pack_0_fd986f34: uid 79, ports [], aliases [], 0 polygons, 3 references</div>
</div>
<p>Then we add spirals with different lengths to measure waveguide propagation loss.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">spiral</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">spiral_inner_io_fiber_single</span><span class="p">()</span>
<span class="n">spiral</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_07_mask_17_0.png" src="../_images/notebooks_07_mask_17_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
spiral_inner_io_50517bc_c5d5c76b: uid 80, ports ['o2', 'o1'], aliases [], 0 polygons, 3 references</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">spiral_te</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">routing</span><span class="o">.</span><span class="n">add_fiber_single</span><span class="p">(</span>
    <span class="n">gf</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">gf</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">spiral_inner_io_fiber_single</span><span class="p">,</span> <span class="mi">90</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">spiral_te</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_07_mask_18_0.png" src="../_images/notebooks_07_mask_18_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
spiral_inner_io_50517bc_1d04a21c: uid 145, ports ['vertical_te_0', 'vertical_te_1', 'loopback1', 'loopback2'], aliases [], 0 polygons, 6 references</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># which is equivalent to</span>
<span class="n">spiral_te</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span>
    <span class="n">gf</span><span class="o">.</span><span class="n">routing</span><span class="o">.</span><span class="n">add_fiber_single</span><span class="p">,</span>
    <span class="n">gf</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">rotate90</span><span class="p">,</span>
    <span class="n">gf</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">spiral_inner_io_fiber_single</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">spiral_te</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="mf">10e3</span><span class="p">)</span>
<span class="n">c</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_07_mask_19_0.png" src="../_images/notebooks_07_mask_19_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
spiral_inner_io_cff9290_2eed94e1: uid 226, ports ['vertical_te_0', 'vertical_te_1', 'loopback1', 'loopback2'], aliases [], 0 polygons, 6 references</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">gdsfactory</span> <span class="k">as</span> <span class="nn">gf</span>

<span class="n">add_label_ehva_mpw1</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="n">gf</span><span class="o">.</span><span class="n">dft</span><span class="o">.</span><span class="n">add_label_ehva</span><span class="p">,</span> <span class="n">die</span><span class="o">=</span><span class="s2">&quot;mpw1&quot;</span><span class="p">)</span>
<span class="n">add_fiber_single_no_labels</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span>
    <span class="n">gf</span><span class="o">.</span><span class="n">routing</span><span class="o">.</span><span class="n">add_fiber_single</span><span class="p">,</span> <span class="n">get_input_label_text_function</span><span class="o">=</span><span class="kc">None</span>
<span class="p">)</span>

<span class="n">spiral_te</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span>
    <span class="n">add_label_ehva_mpw1</span><span class="p">,</span>
    <span class="n">add_fiber_single_no_labels</span><span class="p">,</span>
    <span class="n">gf</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">rotate90</span><span class="p">,</span>
    <span class="n">gf</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">spiral_inner_io_fiber_single</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">sweep</span> <span class="o">=</span> <span class="p">[</span><span class="n">spiral_te</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="n">length</span><span class="p">)</span> <span class="k">for</span> <span class="n">length</span> <span class="ow">in</span> <span class="p">[</span><span class="mf">10e3</span><span class="p">,</span> <span class="mf">20e3</span><span class="p">,</span> <span class="mf">30e3</span><span class="p">]]</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">sweep</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">c</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_07_mask_20_0.png" src="../_images/notebooks_07_mask_20_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
pack_0_0a464ab2: uid 292, ports [], aliases [], 0 polygons, 3 references</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c</span><span class="o">.</span><span class="n">get_labels</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[Label(&#34;DIE NAME:mpw1
 CIRCUIT NAME:spiral_inner_io_1554034_f43c1b43
 CIRCUITINFO NAME: grating_spacing, VALUE: 200
 CIRCUITINFO NAME: length, VALUE: 30000
 CIRCUITINFO NAME: x_straight_inner_left, VALUE: 75
 CIRCUITINFO NAME: x_straight_inner_right, VALUE: 40
 CIRCUITINFO NAME: y_straight_inner_bottom, VALUE: 0
 CIRCUITINFO NAME: y_straight_inner_top, VALUE: 10
 OPTICALPORT NAME: vertical_te_1 TYPE: vertical_te, POSITION RELATIVE:(0.0, 26.269), ORIENTATION: 90.0
 OPTICALPORT NAME: vertical_te_0 TYPE: vertical_te, POSITION RELATIVE:(-0.0, -246.269), ORIENTATION: 270.0
 OPTICALPORT NAME: loopback2 TYPE: loopback, POSITION RELATIVE:(-99.5, 1011.739), ORIENTATION: 90.0
 OPTICALPORT NAME: loopback1 TYPE: loopback, POSITION RELATIVE:(-99.5, -289.437), ORIENTATION: 270&#34;, (117.5215, 308.2995000000001), None, None, False, 66, 0),
 Label(&#34;o1&#34;, (130.5215, 298.2995000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (140.5215, 288.2995000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (140.52149999999995, 45.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (130.52149999999995, 35.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (108.52149999999996, 35.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (98.52149999999996, 45.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (98.52150000000019, 1276.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (108.52150000000019, 1286.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (136.52150000000017, 1286.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (146.52150000000017, 1276.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (146.52149999999995, 39.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (136.52149999999995, 29.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (102.52149999999995, 29.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (92.52149999999996, 39.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (92.52150000000019, 1282.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (102.52150000000019, 1292.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (142.52150000000017, 1292.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (152.52150000000017, 1282.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (152.52149999999995, 33.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (142.52149999999995, 23.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (96.52149999999995, 23.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (86.52149999999995, 33.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (86.52150000000019, 1288.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (96.52150000000019, 1298.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (148.52150000000017, 1298.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (158.52150000000017, 1288.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (158.52149999999995, 27.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (148.52149999999995, 17.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (90.52149999999995, 17.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (80.52149999999996, 27.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (80.52150000000019, 1294.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (90.52150000000019, 1304.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (154.5215000000002, 1304.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (164.52150000000017, 1294.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (164.52149999999995, 21.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (154.52149999999995, 11.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (84.52149999999995, 11.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (74.52149999999996, 21.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (74.5215000000002, 1300.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (84.5215000000002, 1310.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (160.5215000000002, 1310.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (170.5215000000002, 1300.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (170.52149999999995, 15.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (160.52149999999995, 5.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (78.52149999999995, 5.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (68.52149999999995, 15.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (68.5215000000002, 1323.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (78.5215000000002, 1333.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (127.5215, 298.2995000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (130.5215, 298.2995000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (140.5215, 288.2995000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (140.52149999999995, 45.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (130.52149999999995, 35.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (108.52149999999996, 35.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (98.52149999999996, 45.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (98.52150000000033, 1276.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (108.52150000000019, 1286.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (136.52150000000017, 1286.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (146.52150000000017, 1276.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (146.52149999999995, 39.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (136.52149999999995, 29.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (102.52149999999995, 29.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (92.52149999999996, 39.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (92.52150000000034, 1282.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (102.52150000000019, 1292.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (142.52150000000017, 1292.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (152.52150000000017, 1282.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (152.52149999999995, 33.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (142.52149999999995, 23.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (96.52149999999995, 23.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (86.52149999999995, 33.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (86.52150000000034, 1288.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (96.52150000000019, 1298.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (148.52150000000017, 1298.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (158.52150000000017, 1288.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (158.52149999999995, 27.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (148.52149999999995, 17.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (90.52149999999995, 17.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (80.52149999999996, 27.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (80.52150000000034, 1294.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (90.52150000000019, 1304.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (154.5215000000002, 1304.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (164.52150000000017, 1294.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (164.52149999999995, 21.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (154.52149999999995, 11.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (84.52149999999995, 11.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (74.52149999999996, 21.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (74.52150000000034, 1300.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (84.5215000000002, 1310.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (160.5215000000002, 1310.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (170.5215000000002, 1300.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (170.52149999999995, 15.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (160.52149999999995, 5.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (78.52149999999995, 5.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (68.52149999999995, 15.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (68.52150000000036, 1323.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (78.5215000000002, 1333.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (117.52150000000019, 1333.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (117.52150000000019, 1313.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (117.52150000000019, 1333.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (127.52149999999996, 98.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (137.52149999999995, 88.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (137.52149999999995, 48.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (127.52149999999996, 38.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (111.52149999999995, 38.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (101.52149999999996, 48.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (101.52150000000019, 1273.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (111.52150000000019, 1283.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (133.52150000000017, 1283.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (143.52150000000017, 1273.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (143.52149999999995, 42.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (133.52149999999995, 32.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (105.52149999999995, 32.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (95.52149999999996, 42.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (95.52150000000019, 1279.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (105.52150000000019, 1289.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (139.52150000000017, 1289.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (149.52150000000017, 1279.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (149.52149999999995, 36.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (139.52149999999995, 26.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (99.52149999999995, 26.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (89.52149999999995, 36.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (89.52150000000019, 1285.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (99.52150000000019, 1295.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (145.52150000000017, 1295.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (155.52150000000017, 1285.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (155.52149999999995, 30.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (145.52149999999995, 20.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (93.52149999999995, 20.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (83.52149999999996, 30.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (83.52150000000019, 1291.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (93.52150000000019, 1301.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (151.5215000000002, 1301.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (161.52150000000017, 1291.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (161.52149999999995, 24.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (151.52149999999995, 14.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (87.52149999999995, 14.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (77.52149999999996, 24.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (77.5215000000002, 1297.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (87.52150000000019, 1307.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (157.5215000000002, 1307.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (167.5215000000002, 1297.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (167.52149999999995, 18.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (157.52149999999995, 8.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (81.52149999999995, 8.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (71.52149999999996, 18.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (71.5215000000002, 1303.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (81.5215000000002, 1313.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (137.52149999999995, 88.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (137.52149999999995, 48.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (127.52149999999996, 38.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (111.52149999999995, 38.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (101.52149999999996, 48.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (101.52150000000033, 1273.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (111.52150000000019, 1283.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (133.52150000000017, 1283.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (143.52150000000017, 1273.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (143.52149999999995, 42.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (133.52149999999995, 32.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (105.52149999999995, 32.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (95.52149999999996, 42.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (95.52150000000034, 1279.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (105.52150000000019, 1289.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (139.52150000000017, 1289.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (149.52150000000017, 1279.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (149.52149999999995, 36.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (139.52149999999995, 26.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (99.52149999999995, 26.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (89.52149999999995, 36.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (89.52150000000034, 1285.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (99.52150000000019, 1295.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (145.52150000000017, 1295.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (155.52150000000017, 1285.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (155.52149999999995, 30.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (145.52149999999995, 20.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (93.52149999999995, 20.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (83.52149999999996, 30.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (83.52150000000034, 1291.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (93.52150000000019, 1301.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (151.5215000000002, 1301.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (161.52150000000017, 1291.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (161.52149999999995, 24.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (151.52149999999995, 14.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (87.52149999999995, 14.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (77.52149999999996, 24.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (77.52150000000034, 1297.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (87.52150000000019, 1307.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (157.5215000000002, 1307.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (167.5215000000002, 1297.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (167.52149999999995, 18.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (157.52149999999995, 8.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (81.52149999999995, 8.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (71.52149999999996, 18.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (71.52150000000034, 1303.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (81.5215000000002, 1313.5995), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (117.52150000000019, 1313.5995), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (127.52149999999996, 98.29950000000008), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (117.52149999999996, 88.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (117.5215, 308.2995000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (127.5215, 298.2995000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (117.52149999999996, 88.29950000000008), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (117.5215, 308.2995000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (18.021500000000003, 45.131500000000074), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (18.021500000000074, 1293.7694999999999), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (18.021500000000003, 45.131500000000074), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (18.021500000000074, 1293.7694999999999), None, None, False, 1, 10),
 Label(&#34;DIE NAME:mpw1
 CIRCUIT NAME:spiral_inner_io_5388707_8507b82d
 CIRCUITINFO NAME: grating_spacing, VALUE: 200
 CIRCUITINFO NAME: length, VALUE: 20000
 CIRCUITINFO NAME: x_straight_inner_left, VALUE: 75
 CIRCUITINFO NAME: x_straight_inner_right, VALUE: 40
 CIRCUITINFO NAME: y_straight_inner_bottom, VALUE: 0
 CIRCUITINFO NAME: y_straight_inner_top, VALUE: 10
 OPTICALPORT NAME: vertical_te_1 TYPE: vertical_te, POSITION RELATIVE:(0.0, 26.269), ORIENTATION: 90.0
 OPTICALPORT NAME: vertical_te_0 TYPE: vertical_te, POSITION RELATIVE:(-0.0, -246.269), ORIENTATION: 270.0
 OPTICALPORT NAME: loopback2 TYPE: loopback, POSITION RELATIVE:(-99.5, 557.194), ORIENTATION: 90.0
 OPTICALPORT NAME: loopback1 TYPE: loopback, POSITION RELATIVE:(-99.5, -289.437), ORIENTATION: 270&#34;, (293.2415, 308.297), None, None, False, 66, 0),
 Label(&#34;o1&#34;, (306.2415, 298.297), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (316.2415, 288.297), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (316.2414999999999, 45.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (306.2414999999999, 35.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (284.2414999999999, 35.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (274.2414999999999, 45.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (274.2415000000001, 822.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (284.2415000000001, 832.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (312.2415000000001, 832.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (322.2415000000001, 822.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (322.2414999999999, 39.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (312.2414999999999, 29.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (278.2414999999999, 29.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (268.2414999999999, 39.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (268.2415000000001, 828.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (278.2415000000001, 838.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (318.2415000000001, 838.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (328.2415000000001, 828.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (328.2414999999999, 33.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (318.2414999999999, 23.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (272.2414999999999, 23.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (262.2414999999999, 33.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (262.2415000000001, 834.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (272.2415000000001, 844.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (324.2415000000001, 844.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (334.2415000000001, 834.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (334.2414999999999, 27.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (324.2414999999999, 17.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (266.2414999999999, 17.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (256.2414999999999, 27.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (256.2415000000001, 840.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (266.2415000000001, 850.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (330.2415000000001, 850.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (340.2415000000001, 840.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (340.2414999999999, 21.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (330.2414999999999, 11.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (260.2414999999999, 11.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (250.24149999999992, 21.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (250.2415000000001, 846.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (260.2415000000001, 856.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (336.2415000000001, 856.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (346.2415000000001, 846.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (346.2414999999999, 15.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (336.2414999999999, 5.2970000000000255), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (254.24149999999992, 5.2970000000000255), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (244.24149999999992, 15.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (244.2415000000001, 869.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (254.2415000000001, 879.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (303.2415, 298.297), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (306.2415, 298.297), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (316.2415, 288.297), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (316.2414999999999, 45.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (306.2414999999999, 35.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (284.2414999999999, 35.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (274.2414999999999, 45.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (274.24150000000014, 822.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (284.2415000000001, 832.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (312.2415000000001, 832.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (322.2415000000001, 822.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (322.2414999999999, 39.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (312.2414999999999, 29.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (278.2414999999999, 29.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (268.2414999999999, 39.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (268.24150000000014, 828.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (278.2415000000001, 838.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (318.2415000000001, 838.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (328.2415000000001, 828.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (328.2414999999999, 33.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (318.2414999999999, 23.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (272.2414999999999, 23.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (262.2414999999999, 33.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (262.24150000000014, 834.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (272.2415000000001, 844.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (324.2415000000001, 844.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (334.2415000000001, 834.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (334.2414999999999, 27.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (324.2414999999999, 17.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (266.2414999999999, 17.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (256.2414999999999, 27.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (256.2415000000002, 840.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (266.2415000000001, 850.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (330.2415000000001, 850.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (340.2415000000001, 840.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (340.2414999999999, 21.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (330.2414999999999, 11.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (260.2414999999999, 11.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (250.24149999999992, 21.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (250.24150000000017, 846.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (260.2415000000001, 856.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (336.2415000000001, 856.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (346.2415000000001, 846.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (346.2414999999999, 15.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (336.2414999999999, 5.2970000000000255), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (254.24149999999992, 5.2970000000000255), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (244.24149999999992, 15.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (244.2415000000002, 869.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (254.2415000000001, 879.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (293.2415000000001, 879.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (293.2415000000001, 859.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (293.2415000000001, 879.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (303.2414999999999, 98.29700000000003), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (313.2414999999999, 88.29700000000003), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (313.2414999999999, 48.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (303.2414999999999, 38.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (287.2414999999999, 38.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (277.2414999999999, 48.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (277.2415000000001, 819.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (287.2415000000001, 829.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (309.2415000000001, 829.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (319.2415000000001, 819.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (319.2414999999999, 42.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (309.2414999999999, 32.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (281.2414999999999, 32.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (271.2414999999999, 42.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (271.2415000000001, 825.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (281.2415000000001, 835.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (315.2415000000001, 835.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (325.2415000000001, 825.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (325.2414999999999, 36.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (315.2414999999999, 26.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (275.2414999999999, 26.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (265.2414999999999, 36.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (265.2415000000001, 831.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (275.2415000000001, 841.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (321.2415000000001, 841.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (331.2415000000001, 831.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (331.2414999999999, 30.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (321.2414999999999, 20.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (269.2414999999999, 20.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (259.2414999999999, 30.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (259.2415000000001, 837.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (269.2415000000001, 847.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (327.2415000000001, 847.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (337.2415000000001, 837.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (337.2414999999999, 24.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (327.2414999999999, 14.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (263.2414999999999, 14.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (253.24149999999992, 24.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (253.2415000000001, 843.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (263.2415000000001, 853.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (333.2415000000001, 853.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (343.2415000000001, 843.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (343.2414999999999, 18.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (333.2414999999999, 8.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (257.2414999999999, 8.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (247.24149999999992, 18.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (247.2415000000001, 849.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (257.2415000000001, 859.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (313.2414999999999, 88.29700000000003), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (313.2414999999999, 48.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (303.2414999999999, 38.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (287.2414999999999, 38.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (277.2414999999999, 48.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (277.24150000000014, 819.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (287.2415000000001, 829.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (309.2415000000001, 829.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (319.2415000000001, 819.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (319.2414999999999, 42.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (309.2414999999999, 32.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (281.2414999999999, 32.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (271.2414999999999, 42.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (271.24150000000014, 825.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (281.2415000000001, 835.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (315.2415000000001, 835.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (325.2415000000001, 825.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (325.2414999999999, 36.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (315.2414999999999, 26.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (275.2414999999999, 26.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (265.2414999999999, 36.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (265.24150000000014, 831.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (275.2415000000001, 841.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (321.2415000000001, 841.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (331.2415000000001, 831.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (331.2414999999999, 30.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (321.2414999999999, 20.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (269.2414999999999, 20.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (259.2414999999999, 30.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (259.2415000000002, 837.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (269.2415000000001, 847.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (327.2415000000001, 847.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (337.2415000000001, 837.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (337.2414999999999, 24.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (327.2414999999999, 14.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (263.2414999999999, 14.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (253.24149999999992, 24.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (253.24150000000017, 843.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (263.2415000000001, 853.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (333.2415000000001, 853.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (343.2415000000001, 843.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (343.2414999999999, 18.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (333.2414999999999, 8.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (257.2414999999999, 8.297000000000025), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (247.24149999999992, 18.297000000000025), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (247.24150000000017, 849.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (257.2415000000001, 859.052), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (293.2415000000001, 859.052), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (303.2414999999999, 98.29700000000003), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (293.2414999999999, 88.29700000000003), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (293.2415, 308.297), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (303.2415, 298.297), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (293.2414999999999, 88.29700000000003), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (293.2415, 308.297), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (193.74149999999997, 45.12900000000002), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (193.74150000000003, 839.222), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (193.74149999999997, 45.12900000000002), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (193.74150000000003, 839.222), None, None, False, 1, 10),
 Label(&#34;DIE NAME:mpw1
 CIRCUIT NAME:spiral_inner_io_cff9290_7253b303
 CIRCUITINFO NAME: grating_spacing, VALUE: 200
 CIRCUITINFO NAME: length, VALUE: 10000
 CIRCUITINFO NAME: x_straight_inner_left, VALUE: 75
 CIRCUITINFO NAME: x_straight_inner_right, VALUE: 40
 CIRCUITINFO NAME: y_straight_inner_bottom, VALUE: 0
 CIRCUITINFO NAME: y_straight_inner_top, VALUE: 10
 OPTICALPORT NAME: vertical_te_1 TYPE: vertical_te, POSITION RELATIVE:(0.0, 26.269), ORIENTATION: 90.0
 OPTICALPORT NAME: vertical_te_0 TYPE: vertical_te, POSITION RELATIVE:(-0.0, -246.269), ORIENTATION: 270.0
 OPTICALPORT NAME: loopback2 TYPE: loopback, POSITION RELATIVE:(-99.5, 102.648), ORIENTATION: 90.0
 OPTICALPORT NAME: loopback1 TYPE: loopback, POSITION RELATIVE:(-99.5, -289.437), ORIENTATION: 270&#34;, (468.9615, 308.3), None, None, False, 66, 0),
 Label(&#34;o1&#34;, (481.9615, 298.3), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (491.9615, 288.3), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (491.96149999999994, 45.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (481.96149999999994, 35.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (459.96149999999994, 35.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (449.96149999999994, 45.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (449.9615, 367.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (459.9615, 377.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (487.9615, 377.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (497.9615, 367.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (497.96149999999994, 39.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (487.96149999999994, 29.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (453.96149999999994, 29.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (443.96149999999994, 39.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (443.9615, 373.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (453.9615, 383.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (493.9615, 383.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (503.9615, 373.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (503.96149999999994, 33.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (493.96149999999994, 23.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (447.96149999999994, 23.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (437.96149999999994, 33.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (437.9615, 379.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (447.9615, 389.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (499.9615, 389.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (509.9615, 379.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (509.96149999999994, 27.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (499.96149999999994, 17.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (441.96149999999994, 17.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (431.96149999999994, 27.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (431.9615, 385.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (441.9615, 395.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (505.9615, 395.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (515.9615, 385.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (515.9615, 21.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (505.96149999999994, 11.300000000000011), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (435.96149999999994, 11.300000000000011), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (425.96149999999994, 21.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (425.9615, 391.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (435.9615, 401.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (511.9615, 401.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (521.9615, 391.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (521.9615, 15.300000000000011), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (511.96149999999994, 5.300000000000011), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (429.96149999999994, 5.300000000000011), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (419.96149999999994, 15.300000000000011), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (419.9615, 414.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (429.9615, 424.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (478.9615, 298.3), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (481.9615, 298.3), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (491.9615, 288.3), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (491.96149999999994, 45.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (481.96149999999994, 35.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (459.96149999999994, 35.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (449.96149999999994, 45.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (449.96150000000006, 367.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (459.9615, 377.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (487.9615, 377.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (497.9615, 367.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (497.96149999999994, 39.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (487.96149999999994, 29.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (453.96149999999994, 29.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (443.96149999999994, 39.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (443.96150000000006, 373.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (453.9615, 383.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (493.9615, 383.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (503.9615, 373.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (503.96149999999994, 33.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (493.96149999999994, 23.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (447.96149999999994, 23.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (437.96149999999994, 33.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (437.96150000000006, 379.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (447.9615, 389.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (499.9615, 389.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (509.9615, 379.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (509.96149999999994, 27.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (499.96149999999994, 17.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (441.96149999999994, 17.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (431.96149999999994, 27.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (431.96150000000006, 385.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (441.9615, 395.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (505.9615, 395.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (515.9615, 385.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (515.9615, 21.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (505.96149999999994, 11.300000000000011), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (435.96149999999994, 11.300000000000011), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (425.96149999999994, 21.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (425.96150000000006, 391.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (435.9615, 401.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (511.9615, 401.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (521.9615, 391.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (521.9615, 15.300000000000011), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (511.96149999999994, 5.300000000000011), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (429.96149999999994, 5.300000000000011), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (419.96149999999994, 15.300000000000011), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (419.96150000000006, 414.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (429.9615, 424.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (468.9615, 424.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (468.9615, 404.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (468.9615, 424.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (478.96149999999994, 98.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (488.96149999999994, 88.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (488.96149999999994, 48.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (478.96149999999994, 38.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (462.96149999999994, 38.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (452.96149999999994, 48.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (452.9615, 364.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (462.9615, 374.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (484.9615, 374.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (494.9615, 364.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (494.96149999999994, 42.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (484.96149999999994, 32.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (456.96149999999994, 32.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (446.96149999999994, 42.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (446.9615, 370.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (456.9615, 380.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (490.9615, 380.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (500.9615, 370.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (500.96149999999994, 36.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (490.96149999999994, 26.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (450.96149999999994, 26.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (440.96149999999994, 36.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (440.9615, 376.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (450.9615, 386.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (496.9615, 386.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (506.9615, 376.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (506.96149999999994, 30.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (496.96149999999994, 20.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (444.96149999999994, 20.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (434.96149999999994, 30.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (434.9615, 382.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (444.9615, 392.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (502.9615, 392.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (512.9615, 382.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (512.9615, 24.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (502.96149999999994, 14.300000000000011), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (438.96149999999994, 14.300000000000011), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (428.96149999999994, 24.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (428.9615, 388.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (438.9615, 398.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (508.9615, 398.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (518.9615, 388.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (518.9615, 18.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (508.96149999999994, 8.300000000000011), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (432.96149999999994, 8.300000000000011), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (422.96149999999994, 18.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (422.9615, 394.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (432.9615, 404.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (488.96149999999994, 88.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (488.96149999999994, 48.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (478.96149999999994, 38.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (462.96149999999994, 38.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (452.96149999999994, 48.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (452.96150000000006, 364.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (462.9615, 374.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (484.9615, 374.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (494.9615, 364.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (494.96149999999994, 42.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (484.96149999999994, 32.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (456.96149999999994, 32.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (446.96149999999994, 42.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (446.96150000000006, 370.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (456.9615, 380.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (490.9615, 380.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (500.9615, 370.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (500.96149999999994, 36.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (490.96149999999994, 26.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (450.96149999999994, 26.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (440.96149999999994, 36.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (440.96150000000006, 376.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (450.9615, 386.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (496.9615, 386.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (506.9615, 376.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (506.96149999999994, 30.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (496.96149999999994, 20.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (444.96149999999994, 20.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (434.96149999999994, 30.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (434.96150000000006, 382.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (444.9615, 392.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (502.9615, 392.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (512.9615, 382.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (512.9615, 24.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (502.96149999999994, 14.300000000000011), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (438.96149999999994, 14.300000000000011), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (428.96149999999994, 24.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (428.96150000000006, 388.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (438.9615, 398.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (508.9615, 398.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (518.9615, 388.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (518.9615, 18.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (508.96149999999994, 8.300000000000011), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (432.96149999999994, 8.300000000000011), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (422.96149999999994, 18.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (422.96150000000006, 394.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (432.9615, 404.509), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (468.9615, 404.509), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (478.96149999999994, 98.30000000000001), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (468.96149999999994, 88.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (468.9615, 308.3), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (478.9615, 298.3), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (468.96149999999994, 88.30000000000001), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (468.9615, 308.3), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (369.4615, 45.132000000000005), None, None, False, 1, 10),
 Label(&#34;o2&#34;, (369.4615, 384.67900000000003), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (369.4615, 45.132000000000005), None, None, False, 1, 10),
 Label(&#34;o1&#34;, (369.4615, 384.67900000000003), None, None, False, 1, 10)]
</pre></div></div>
</div>
<p>Together with GDS labels that are not fabricated, you can also add some physical labels that will be fabricated.</p>
<p>For example you can add prefix <code class="docutils literal notranslate"><span class="pre">S</span></code> at the <code class="docutils literal notranslate"><span class="pre">north-center</span></code> of each spiral using <code class="docutils literal notranslate"><span class="pre">text_rectangular</span></code> which is DRC clean and anchored on <code class="docutils literal notranslate"><span class="pre">nc</span></code> (north-center)</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">text_metal3</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span>
    <span class="n">gf</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">text_rectangular_multi_layer</span><span class="p">,</span> <span class="n">layers</span><span class="o">=</span><span class="p">(</span><span class="n">gf</span><span class="o">.</span><span class="n">LAYER</span><span class="o">.</span><span class="n">M3</span><span class="p">,)</span>
<span class="p">)</span>

<span class="n">m</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">sweep</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">text_metal3</span><span class="p">,</span> <span class="n">text_anchors</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;nc&quot;</span><span class="p">,),</span> <span class="n">text_prefix</span><span class="o">=</span><span class="s2">&quot;s&quot;</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">c</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_07_mask_23_0.png" src="../_images/notebooks_07_mask_23_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
pack_0_df93f393: uid 293, ports [], aliases [], 0 polygons, 6 references</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">text_metal2</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="n">gf</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="n">layer</span><span class="o">=</span><span class="n">gf</span><span class="o">.</span><span class="n">LAYER</span><span class="o">.</span><span class="n">M2</span><span class="p">)</span>

<span class="n">m</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">sweep</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">text_metal2</span><span class="p">,</span> <span class="n">text_anchors</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;nc&quot;</span><span class="p">,),</span> <span class="n">text_prefix</span><span class="o">=</span><span class="s2">&quot;s&quot;</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">c</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_07_mask_24_0.png" src="../_images/notebooks_07_mask_24_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
pack_0_85fd2252: uid 304, ports [], aliases [], 0 polygons, 6 references</div>
</div>
</section>
<section id="Grid">
<h2>Grid<a class="headerlink" href="#Grid" title="Permalink to this heading">#</a></h2>
<p>You can also pack components with a constant spacing.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">sweep</span><span class="p">)</span>
<span class="n">g</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_07_mask_26_0.png" src="../_images/notebooks_07_mask_26_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
grid_dff359ef: uid 311, ports [], aliases [(0, 0), (1, 0), (2, 0)], 0 polygons, 3 references</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gh</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">sweep</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">sweep</span><span class="p">)))</span>
<span class="n">gh</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_07_mask_27_0.png" src="../_images/notebooks_07_mask_27_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
grid_744b5748: uid 313, ports [], aliases [(0, 0), (0, 1), (0, 2)], 0 polygons, 3 references</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gh_ymin</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">sweep</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">sweep</span><span class="p">)),</span> <span class="n">align_y</span><span class="o">=</span><span class="s2">&quot;ymin&quot;</span><span class="p">)</span>
<span class="n">gh_ymin</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_07_mask_28_0.png" src="../_images/notebooks_07_mask_28_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
grid_32591b99: uid 315, ports [], aliases [(0, 0), (0, 1), (0, 2)], 0 polygons, 3 references</div>
</div>
<p>You can also add text labels to each element of the sweep</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gh_ymin</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">grid_with_text</span><span class="p">(</span>
    <span class="n">sweep</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">sweep</span><span class="p">)),</span> <span class="n">align_y</span><span class="o">=</span><span class="s2">&quot;ymin&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">text_metal3</span>
<span class="p">)</span>
<span class="n">gh_ymin</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_07_mask_30_0.png" src="../_images/notebooks_07_mask_30_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
grid_with_text_bfb3bf0a: uid 317, ports [], aliases [], 0 polygons, 4 references</div>
</div>
<p>You can modify the text by customizing the <code class="docutils literal notranslate"><span class="pre">text_function</span></code> that you pass to <code class="docutils literal notranslate"><span class="pre">grid_with_text</span></code></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gh_ymin_m2</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">grid_with_text</span><span class="p">(</span>
    <span class="n">sweep</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">sweep</span><span class="p">)),</span> <span class="n">align_y</span><span class="o">=</span><span class="s2">&quot;ymin&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">text_metal2</span>
<span class="p">)</span>
<span class="n">gh_ymin_m2</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_07_mask_32_0.png" src="../_images/notebooks_07_mask_32_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
grid_with_text_89e29f39: uid 324, ports [], aliases [], 0 polygons, 4 references</div>
</div>
<p>You have 2 ways of defining a mask:</p>
<ol class="arabic simple">
<li><p>in python</p></li>
<li><p>in YAML</p></li>
</ol>
</section>
<section id="Component-in-python">
<h2>Component in python<a class="headerlink" href="#Component-in-python" title="Permalink to this heading">#</a></h2>
<p>You can define a Component top cell reticle or die using <code class="docutils literal notranslate"><span class="pre">grid</span></code> and <code class="docutils literal notranslate"><span class="pre">pack</span></code> python functions.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">gdsfactory</span> <span class="k">as</span> <span class="nn">gf</span>

<span class="n">text_metal3</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span>
    <span class="n">gf</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">text_rectangular_multi_layer</span><span class="p">,</span> <span class="n">layers</span><span class="o">=</span><span class="p">(</span><span class="n">gf</span><span class="o">.</span><span class="n">LAYER</span><span class="o">.</span><span class="n">M3</span><span class="p">,)</span>
<span class="p">)</span>
<span class="n">grid</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="n">gf</span><span class="o">.</span><span class="n">grid_with_text</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">text_metal3</span><span class="p">)</span>
<span class="n">pack</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="n">gf</span><span class="o">.</span><span class="n">pack</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">text_metal3</span><span class="p">)</span>

<span class="n">gratings_sweep</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">gf</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">grating_coupler_elliptical</span><span class="p">(</span><span class="n">taper_angle</span><span class="o">=</span><span class="n">taper_angle</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">taper_angle</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">]</span>
<span class="p">]</span>
<span class="n">gratings</span> <span class="o">=</span> <span class="n">grid</span><span class="p">(</span><span class="n">gratings_sweep</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">gratings</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_07_mask_34_0.png" src="../_images/notebooks_07_mask_34_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
grid_with_text_eae496e4: uid 334, ports [], aliases [], 0 polygons, 1 references</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gratings_sweep</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">gf</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">grating_coupler_elliptical</span><span class="p">(</span><span class="n">taper_angle</span><span class="o">=</span><span class="n">taper_angle</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">taper_angle</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">]</span>
<span class="p">]</span>
<span class="n">gratings_loss_sweep</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">gf</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">grating_coupler_loss_fiber_single</span><span class="p">(</span><span class="n">grating_coupler</span><span class="o">=</span><span class="n">grating</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">grating</span> <span class="ow">in</span> <span class="n">gratings_sweep</span>
<span class="p">]</span>
<span class="n">gratings</span> <span class="o">=</span> <span class="n">grid</span><span class="p">(</span>
    <span class="n">gratings_loss_sweep</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">gratings_loss_sweep</span><span class="p">)),</span> <span class="n">spacing</span><span class="o">=</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">gratings</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_07_mask_35_0.png" src="../_images/notebooks_07_mask_35_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
grid_with_text_b6edda8c: uid 360, ports [], aliases [], 0 polygons, 4 references</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sweep_resistance</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">gf</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">resistance_sheet</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">)</span> <span class="k">for</span> <span class="n">width</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">]</span>
<span class="p">]</span>
<span class="n">resistance</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">sweep_resistance</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">resistance</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_07_mask_36_0.png" src="../_images/notebooks_07_mask_36_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
pack_0_bbba452a: uid 363, ports [], aliases [], 0 polygons, 3 references</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">spiral_te</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span>
    <span class="n">gf</span><span class="o">.</span><span class="n">routing</span><span class="o">.</span><span class="n">add_fiber_single</span><span class="p">,</span>
    <span class="n">gf</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">rotate90</span><span class="p">,</span>
    <span class="n">gf</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">spiral_inner_io_fiber_single</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">sweep_spirals</span> <span class="o">=</span> <span class="p">[</span><span class="n">spiral_te</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="n">length</span><span class="p">)</span> <span class="k">for</span> <span class="n">length</span> <span class="ow">in</span> <span class="p">[</span><span class="mf">10e3</span><span class="p">,</span> <span class="mf">20e3</span><span class="p">,</span> <span class="mf">30e3</span><span class="p">]]</span>
<span class="n">spirals</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">sweep_spirals</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">spirals</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_07_mask_37_0.png" src="../_images/notebooks_07_mask_37_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
pack_0_d12cebb0: uid 366, ports [], aliases [], 0 polygons, 3 references</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mask</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">pack</span><span class="p">([</span><span class="n">spirals</span><span class="p">,</span> <span class="n">resistance</span><span class="p">,</span> <span class="n">gratings</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">mask</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_07_mask_38_0.png" src="../_images/notebooks_07_mask_38_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
pack_0_b482e206: uid 367, ports [], aliases [], 0 polygons, 3 references</div>
</div>
<p>As you can see you can define your mask in a single line.</p>
<p>For more complex mask, you can also create a new cell to build up more complexity</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@gf</span><span class="o">.</span><span class="n">cell</span>
<span class="k">def</span> <span class="nf">mask</span><span class="p">():</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">Component</span><span class="p">()</span>
    <span class="n">c</span> <span class="o">&lt;&lt;</span> <span class="n">gf</span><span class="o">.</span><span class="n">pack</span><span class="p">([</span><span class="n">spirals</span><span class="p">,</span> <span class="n">resistance</span><span class="p">,</span> <span class="n">gratings</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">c</span> <span class="o">&lt;&lt;</span> <span class="n">gf</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">seal_ring</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">bbox</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">c</span>


<span class="n">c</span> <span class="o">=</span> <span class="n">mask</span><span class="p">(</span><span class="n">cache</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">c</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_07_mask_40_0.png" src="../_images/notebooks_07_mask_40_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
mask: uid 368, ports [], aliases [], 0 polygons, 2 references</div>
</div>
</section>
<section id="Metadata">
<h2>Metadata<a class="headerlink" href="#Metadata" title="Permalink to this heading">#</a></h2>
<p>When saving GDS files is also convenient to store the metadata settings that you used to generate the GDS file.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gdspath</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">write_gds_with_metadata</span><span class="p">(</span><span class="n">gdsdir</span><span class="o">=</span><span class="s2">&quot;extra&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2022-06-15 17:08:54.118 | INFO     | gdsfactory.component:write_gds:1040 - Write GDS to &#39;extra/mask.gds&#39;
2022-06-15 17:08:55.962 | INFO     | gdsfactory.component:write_gds_with_metadata:1048 - Write YAML metadata to &#39;extra/mask.yml&#39;
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">yaml_path</span> <span class="o">=</span> <span class="n">gdspath</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s2">&quot;.yml&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">labels_path</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">mask</span><span class="o">.</span><span class="n">write_labels</span><span class="p">(</span><span class="n">gdspath</span><span class="o">=</span><span class="n">gdspath</span><span class="p">,</span> <span class="n">layer_label</span><span class="o">=</span><span class="p">(</span><span class="mi">201</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2022-06-15 17:08:55.983 | INFO     | gdsfactory.mask.write_labels:write_labels:84 - Wrote 18 labels to CSV /home/runner/work/gdsfactory/gdsfactory/docs/notebooks/extra/mask.csv
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">omegaconf</span> <span class="kn">import</span> <span class="n">OmegaConf</span>

<span class="n">mask_metadata</span> <span class="o">=</span> <span class="n">OmegaConf</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">yaml_path</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">test_metadata</span> <span class="o">=</span> <span class="n">tm</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">mask</span><span class="o">.</span><span class="n">merge_test_metadata</span><span class="p">(</span>
    <span class="n">labels_path</span><span class="o">=</span><span class="n">labels_path</span><span class="p">,</span> <span class="n">mask_metadata</span><span class="o">=</span><span class="n">mask_metadata</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tm</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
dict_keys([&#39;spiral_inner_io_1554034d&#39;, &#39;spiral_inner_io_53887075&#39;, &#39;spiral_inner_io_cff9290e&#39;, &#39;grating_coupler_ellipti_396d882b&#39;, &#39;grating_coupler_ellipti_54408399&#39;, &#39;grating_coupler_elliptical&#39;])
</pre></div></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>CSV labels  ------|
                  |--&gt; merge_test_metadata dict
                  |
YAML metatada  ---
</pre></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">spiral_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">test_metadata</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">if</span> <span class="n">s</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;spiral&quot;</span><span class="p">)]</span>
<span class="n">spiral_names</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;spiral_inner_io_1554034d&#39;,
 &#39;spiral_inner_io_53887075&#39;,
 &#39;spiral_inner_io_cff9290e&#39;]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">spiral_lengths</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">test_metadata</span><span class="p">[</span><span class="n">spiral_name</span><span class="p">]</span><span class="o">.</span><span class="n">info</span><span class="o">.</span><span class="n">length</span> <span class="k">for</span> <span class="n">spiral_name</span> <span class="ow">in</span> <span class="n">spiral_names</span>
<span class="p">]</span>
<span class="n">spiral_lengths</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[29999.994, 20000.004, 9999.992]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[37]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gc_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">test_metadata</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">if</span> <span class="n">s</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;grating&quot;</span><span class="p">)]</span>
<span class="n">gc_names</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[37]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;grating_coupler_ellipti_396d882b&#39;,
 &#39;grating_coupler_ellipti_54408399&#39;,
 &#39;grating_coupler_elliptical&#39;]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[38]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gc_taper_angles</span> <span class="o">=</span> <span class="p">[</span><span class="n">test_metadata</span><span class="p">[</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">full</span><span class="o">.</span><span class="n">taper_angle</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">gc_names</span><span class="p">]</span>
<span class="n">gc_taper_angles</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[38]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[20, 30, 40]
</pre></div></div>
</div>
</section>
<section id="Component-in-YAML">
<h2>Component in YAML<a class="headerlink" href="#Component-in-YAML" title="Permalink to this heading">#</a></h2>
<p>You can also define your component in YAML format thanks to <code class="docutils literal notranslate"><span class="pre">gdsfactory.read.from_yaml</span></code></p>
<p>You need to define:</p>
<ul class="simple">
<li><p>instances</p></li>
<li><p>placements</p></li>
</ul>
<p>and you can leverage:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pack_doe</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pack_doe_grid</span></code></p></li>
</ol>
<section id="1.-pack_doe">
<h3>1. pack_doe<a class="headerlink" href="#1.-pack_doe" title="Permalink to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">pack_doe</span></code> places components as compact as possible</p>
<p>When running this tutorial make sure you UNCOMMENT this line <code class="docutils literal notranslate"><span class="pre">%matplotlib</span> <span class="pre">widget</span></code> so you can live update your changes in the YAML file</p>
<p><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">%matplotlib</span> <span class="pre">widget</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">%matplotlib</span> <span class="pre">widget</span></code></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[39]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># %matplotlib widget</span>

<span class="kn">import</span> <span class="nn">ipywidgets</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">clear_output</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">gdsfactory</span> <span class="k">as</span> <span class="nn">gf</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">ipywidgets</span><span class="o">.</span><span class="n">Textarea</span><span class="p">(</span><span class="n">rows</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="mi">480</span><span class="p">)</span>

<span class="n">x</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">name: mask_grid</span>

<span class="s2">instances:</span>
<span class="s2">  rings:</span>
<span class="s2">    component: pack_doe</span>
<span class="s2">    settings:</span>
<span class="s2">      doe: ring_single</span>
<span class="s2">      settings:</span>
<span class="s2">        radius: [30, 50, 20, 40]</span>
<span class="s2">        length_x: [1, 2, 3]</span>
<span class="s2">      do_permutations: True</span>
<span class="s2">      function:</span>
<span class="s2">        function: add_fiber_array</span>
<span class="s2">        settings:</span>
<span class="s2">            fanout_length: 200</span>

<span class="s2">  mzis:</span>
<span class="s2">    component: pack_doe</span>
<span class="s2">    settings:</span>
<span class="s2">      doe: mzi</span>
<span class="s2">      settings:</span>
<span class="s2">        delta_length: [10, 100]</span>
<span class="s2">      function: add_fiber_array</span>

<span class="s2">placements:</span>
<span class="s2">  rings:</span>
<span class="s2">    xmin: 50</span>

<span class="s2">  mzis:</span>
<span class="s2">    xmin: rings,east</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">out</span> <span class="o">=</span> <span class="n">ipywidgets</span><span class="o">.</span><span class="n">Output</span><span class="p">()</span>
<span class="n">display</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">out</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">change</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="n">out</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">read</span><span class="o">.</span><span class="n">from_yaml</span><span class="p">(</span><span class="n">change</span><span class="p">[</span><span class="s2">&quot;new&quot;</span><span class="p">])</span>
        <span class="c1"># clear_output()</span>
        <span class="n">fig</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
        <span class="n">c</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="n">out</span><span class="o">.</span><span class="n">clear_output</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">out</span><span class="o">.</span><span class="n">clear_output</span><span class="p">()</span>
        <span class="k">with</span> <span class="n">out</span><span class="p">:</span>
            <span class="n">display</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>


<span class="n">x</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">)</span>
<span class="n">f</span><span class="p">({</span><span class="s2">&quot;new&quot;</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">value</span><span class="p">})</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"version_major": 2, "version_minor": 0, "model_id": "b77b50f1b8bb468593a7234f60d3f4f9"}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"version_major": 2, "version_minor": 0, "model_id": "766bb3f2839e45568ee900631e92f20d"}</script></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_07_mask_56_2.png" src="../_images/notebooks_07_mask_56_2.png" />
</div>
</div>
</section>
<section id="2.-pack_doe_grid">
<h3>2. pack_doe_grid<a class="headerlink" href="#2.-pack_doe_grid" title="Permalink to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">pack_doe_grid</span></code> places each component on a regular grid</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[40]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">name: mask_compact</span>

<span class="s2">instances:</span>
<span class="s2">  rings:</span>
<span class="s2">    component: pack_doe</span>
<span class="s2">    settings:</span>
<span class="s2">      doe: ring_single</span>
<span class="s2">      settings:</span>
<span class="s2">        radius: [30, 50, 20, 40]</span>
<span class="s2">        length_x: [1, 2, 3]</span>
<span class="s2">      do_permutations: True</span>
<span class="s2">      function:</span>
<span class="s2">        function: add_fiber_array</span>
<span class="s2">        settings:</span>
<span class="s2">            fanout_length: 200</span>


<span class="s2">  mzis:</span>
<span class="s2">    component: pack_doe_grid</span>
<span class="s2">    settings:</span>
<span class="s2">      doe: mzi</span>
<span class="s2">      settings:</span>
<span class="s2">        delta_length: [10, 100]</span>
<span class="s2">      do_permutations: True</span>
<span class="s2">      spacing: [10, 10]</span>
<span class="s2">      function: add_fiber_array</span>

<span class="s2">placements:</span>
<span class="s2">  rings:</span>
<span class="s2">    xmin: 50</span>

<span class="s2">  mzis:</span>
<span class="s2">    xmin: rings,east</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">display</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">out</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_07_mask_58_0.png" src="../_images/notebooks_07_mask_58_0.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"version_major": 2, "version_minor": 0, "model_id": "b77b50f1b8bb468593a7234f60d3f4f9"}</script></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"version_major": 2, "version_minor": 0, "model_id": "766bb3f2839e45568ee900631e92f20d"}</script></div>
</div>
<script type="application/vnd.jupyter.widget-state+json">
{"state": {"454edadf5dab4645977701f2240f6679": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "69993b19867b4fc99c1b496449be3dc4": {"model_name": "DescriptionStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "DescriptionStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "StyleView", "description_width": ""}}, "b77b50f1b8bb468593a7234f60d3f4f9": {"model_name": "TextareaModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "1.5.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "1.5.0", "_model_name": "TextareaModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "1.5.0", "_view_name": "TextareaView", "continuous_update": true, "description": "", "description_tooltip": null, "disabled": false, "layout": "IPY_MODEL_454edadf5dab4645977701f2240f6679", "placeholder": "\u200b", "rows": 20, "style": "IPY_MODEL_69993b19867b4fc99c1b496449be3dc4", "value": "\nname: mask_compact\n\ninstances:\n  rings:\n    component: pack_doe\n    settings:\n      doe: ring_single\n      settings:\n        radius: [30, 50, 20, 40]\n        length_x: [1, 2, 3]\n      do_permutations: True\n      function:\n        function: add_fiber_array\n        settings:\n            fanout_length: 200\n\n\n  mzis:\n    component: pack_doe_grid\n    settings:\n      doe: mzi\n      settings:\n        delta_length: [10, 100]\n      do_permutations: True\n      spacing: [10, 10]\n      function: add_fiber_array\n\nplacements:\n  rings:\n    xmin: 50\n\n  mzis:\n    xmin: rings,east\n"}}, "7ae162eaa2234656818cc765e6e6e209": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "766bb3f2839e45568ee900631e92f20d": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_7ae162eaa2234656818cc765e6e6e209", "msg_id": "", "outputs": []}}}, "version_major": 2, "version_minor": 0}
</script></section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="08_pdk.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">PDK</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="06_yaml_component.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Netlist driven flow (circuits)</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2019, PsiQ
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Reticle assembly</a><ul>
<li><a class="reference internal" href="#Test-protocols">Test protocols</a><ul>
<li><a class="reference internal" href="#1.-SiEPIC-labels">1. SiEPIC labels</a></li>
<li><a class="reference internal" href="#2.-YAML-labels">2. YAML labels</a></li>
<li><a class="reference internal" href="#3.-EHVA-labels">3. EHVA labels</a></li>
</ul>
</li>
<li><a class="reference internal" href="#Pack">Pack</a></li>
<li><a class="reference internal" href="#Grid">Grid</a></li>
<li><a class="reference internal" href="#Component-in-python">Component in python</a></li>
<li><a class="reference internal" href="#Metadata">Metadata</a></li>
<li><a class="reference internal" href="#Component-in-YAML">Component in YAML</a><ul>
<li><a class="reference internal" href="#1.-pack_doe">1. pack_doe</a></li>
<li><a class="reference internal" href="#2.-pack_doe_grid">2. pack_doe_grid</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.1/dist/embed-amd.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>